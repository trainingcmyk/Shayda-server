<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <title>ØªØ³Øª DeepSeek API</title>
</head>
<body style="font-family: Tahoma; padding: 20px;">
    <h1>ğŸ§ª ØªØ³Øª Ø³Ø§Ø¯Ù‡ DeepSeek API</h1>
    
    <div>
        <label>ğŸ”‘ API Key:</label><br>
        <input type="password" id="apiKey" style="width: 400px; padding: 10px; margin: 10px 0;">
    </div>
    
    <button onclick="testAPI()" style="padding: 10px 20px; background: blue; color: white; border: none;">
        ØªØ³Øª Ø§ØªØµØ§Ù„
    </button>
    
    <div id="result" style="margin-top: 20px; padding: 10px; background: #f0f0f0;"></div>

    <script>
        async function testAPI() {
            const apiKey = document.getElementById('apiKey').value.trim();
            const resultDiv = document.getElementById('result');
            
            if (!apiKey) {
                resultDiv.innerHTML = 'âŒ Ù„Ø·ÙØ§ API Key Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯';
                return;
            }
            
            resultDiv.innerHTML = 'ğŸ”„ Ø¯Ø± Ø­Ø§Ù„ ØªØ³Øª...';
            
            try {
                // ØªØ³Øª Û±: Ø¨Ø±Ø±Ø³ÛŒ Ø§ØªØµØ§Ù„ Ø³Ø§Ø¯Ù‡
                resultDiv.innerHTML += '<br>ğŸ”— ØªØ³Øª Û±: Ø¨Ø±Ø±Ø³ÛŒ Ø§ØªØµØ§Ù„...';
                
                const response = await fetch('https://api.deepseek.com/v1/models', {
                    headers: {
                        'Authorization': `Bearer ${apiKey}`
                    }
                });
                
                if (response.ok) {
                    const data = await response.json();
                    resultDiv.innerHTML += '<br>âœ… Ø§ØªØµØ§Ù„ Ù…ÙˆÙÙ‚!';
                    resultDiv.innerHTML += `<br>ğŸ“Š ØªØ¹Ø¯Ø§Ø¯ Ù…Ø¯Ù„â€ŒÙ‡Ø§: ${data.data.length}`;
                    
                    // ØªØ³Øª Û²: Ø§Ø±Ø³Ø§Ù„ Ù¾ÛŒØ§Ù… Ø³Ø§Ø¯Ù‡
                    resultDiv.innerHTML += '<br><br>ğŸ§  ØªØ³Øª Û²: Ø§Ø±Ø³Ø§Ù„ Ù¾ÛŒØ§Ù…...';
                    
                    const chatResponse = await fetch('https://api.deepseek.com/chat/completions', {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json',
                            'Authorization': `Bearer ${apiKey}`
                        },
                        body: JSON.stringify({
                            model: 'deepseek-chat',
                            messages: [
                                {
                                    role: 'user',
                                    content: 'Ø³Ù„Ø§Ù…ØŒ Ù„Ø·ÙØ§ Ø¨Ú¯Ùˆ "Ø¢Ø²Ù…Ø§ÛŒØ´ Ù…ÙˆÙÙ‚"'
                                }
                            ],
                            max_tokens: 50
                        })
                    });
                    
                    if (chatResponse.ok) {
                        const chatData = await chatResponse.json();
                        resultDiv.innerHTML += '<br>âœ… Ù¾ÛŒØ§Ù… Ø§Ø±Ø³Ø§Ù„ Ø´Ø¯!';
                        resultDiv.innerHTML += `<br>ğŸ¤– Ù¾Ø§Ø³Ø®: ${chatData.choices[0].message.content}`;
                    } else {
                        resultDiv.innerHTML += '<br>âŒ Ø®Ø·Ø§ Ø¯Ø± Ø§Ø±Ø³Ø§Ù„ Ù¾ÛŒØ§Ù…';
                    }
                    
                } else {
                    resultDiv.innerHTML += `<br>âŒ Ø®Ø·Ø§: ${response.status} ${response.statusText}`;
                }
                
            } catch (error) {
                resultDiv.innerHTML += `<br>âŒ Ø®Ø·Ø§ÛŒ Ø´Ø¨Ú©Ù‡: ${error.message}`;
                resultDiv.innerHTML += '<br><br>ğŸ”§ Ø±Ø§Ù‡â€ŒØ­Ù„â€ŒÙ‡Ø§ÛŒ Ø§Ø­ØªÙ…Ø§Ù„ÛŒ:';
                resultDiv.innerHTML += '<br>Û±. ÙØ§ÛŒØ±ÙˆØ§Ù„/Ø¢Ù†ØªÛŒâ€ŒÙˆÛŒØ±ÙˆØ³ Ø±Ø§ ØºÛŒØ±ÙØ¹Ø§Ù„ Ú©Ù†';
                resultDiv.innerHTML += '<br>Û². Ø§Ø² Ù…Ø±ÙˆØ±Ú¯Ø± Chrome Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†';
                resultDiv.innerHTML += '<br>Û³. Ø§ÛŒÙ†ØªØ±Ù†Øª Ø±Ø§ Ø¨Ø±Ø±Ø³ÛŒ Ú©Ù†';
            }
        }
    </script>
</body>
</html>